<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p id="textField">You can translate the content of this page by selecting a language in the select box.</p>
<h1 id="title">My Web Page</h1>
<p>Hello everybody!</p>
<p>Translate this page:</p>
<form>
    <select id="targetLanguage">
        <option value="ZH">Chinese (Mandarin)</option>
        <option value="CS">Czech</option>
        <option value="DA">Danish</option>
        <option value="NL">Dutch</option>
        <option value="EN">English</option>
        <option value="ET">Estonian</option>
        <option value="FR" selected = "selected">French</option>
    </select>

    <input type="button" id="translateButton" value="Translate" />
</form>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
    // var httpRequest2 = new XMLHttpRequest();
    $("#translateButton").click(function () {
        // httpRequest2.open("POST", "https://openapi.naver.com/v1/papago/n2mt", true);
        // httpRequest2.setRequestHeader("X-Naver-Client-Id", "Ymqw2n6SrR2yaZc2o0_x");
        // httpRequest2.setRequestHeader("X-Naver-Client-Secret", "kt4d33JWcb");
        // httpRequest2.send("source=en&target=ko&text=sleep");

        $.ajax({
            url: "https://openapi.naver.com/v1/papago/n2mt", // 클라이언트가 요청을 보낼 서버의 URL 주소
            data: { source: "en", target: "ko", text: "sleep" }, // HTTP 요청과 함께 서버로 보낼 데이터
            type: "POST",                             // HTTP 요청 방식(GET, POST)
            dataType: "json",                         // 서버에서 보내줄 데이터의 타입
            // 보내기전 헤더 추가
            beforeSend: function(xhr){
                xhr.setRequestHeader("X-Naver-Client-Id", "Ymqw2n6SrR2yaZc2o0_x")
                xhr.setRequestHeader("X-Naver-Client-Secret", "kt4d33JWcb")
            }
        })
        // HTTP 요청이 성공하면 요청한 데이터가 done()메소드로 전달됨.
            .done(function(json){
                $("<h1>").text(json.translatedText).appendTo("body");
            })
            .fail(function(xhr, status, errorThrown) {
                $("#text").html("오류가 발생했습니다.<br>")
                    .append("오류명: " + errorThrown + "<br>")
                    .append("상태: " + status);
            })

        //
        // var url = "https://translation.googleapis.com/language/translate/v2";
        // //Strings requiring translation
        // url += "?q=" + escape($("#textField").text());
        // url += "&q=" + escape($("#title").text());
        // //Target language
        // url += "&target=" + $("#targetLanguage").val();
        // //Replace with your API key
        // url += "&key=YOUR_API_KEY";
        // $.get(url, function (data, status) {
        //     //Results are returned in an array following the order they were passed.
        //     $("#textField").text(data.data.translations[0].translatedText);
        //     $("#title").text(data.data.translations[1].translatedText);
        // });
    });
</script>
</body>
</html>

